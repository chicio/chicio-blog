@import "tailwindcss";
@import "./pills.css";

@theme {
    --font-sans: "Open Sans", Arial, sans-serif;
    --font-mono: "Courier Prime", "Courier New", monospace;

    --color-primary: #00FF41;
    --color-primary-alpha-0: #00FF4100;
    --color-secondary: #00CC33;
    --color-primary-dark: #003D10;
    --color-primary-light: #39FF14;
    --color-general-background: #001100;
    --color-text-above-primary: #000000;
    --color-primary-text: #E8FFE8;
    --color-secondary-text: #00CC33;
    --color-accent: #39FF14;
    --color-accent-alpha-70: #39FF14B3;
    --color-accent-alpha-50: #39FF1480;
    --color-accent-alpha-40: #39FF1466;
    --color-accent-alpha-25: #39FF1440;
    --color-accent-alpha-15: #39FF1426;
    --color-accent-alpha-10: #39FF141A;
    --color-general-background-light: #002200;
    --color-box-shadow-light: rgba(0, 255, 65, 0.3);
    --color-divider: #00CC33;
    --color-confirm: #ff2a2a;
    --color-confirm-alpha-60: #ff2a2aA0;
    --color-confirm-alpha-25: #ff2a2a40;
    --color-confirm-alpha-20: #ff2a2a33;
    --color-undo: #33aaff;
    --color-undo-alpha-60: #33aaffA0;
    --color-undo-alpha-25: #33aaff40;
    --color-undo-alpha-20: #33aaff33;
    --color-black-alpha-75: #000000BF;

    --spacing: 0.25rem;

    --shadow-2xs: 0 0 1px var(--color-accent-alpha-40);
    --shadow-xs: 0 0px 2px 0 var(--color-accent-alpha-40);
    --shadow-sm: 0 0px 3px 0 var(--color-accent-alpha-40);
    --shadow-md: 0 0px 6px 0 var(--color-accent-alpha-40);
    --shadow-lg: 0 0px 15px 0 var(--color-accent-alpha-40);
    --shadow-xl: 0 0px 25px 0 var(--color-accent-alpha-40);
    --shadow-2xl: 0 0px 50px 0 var(--color-accent-alpha-40);

    --inset-shadow-2xs: inset 0 1px 0 var(--color-accent-alpha-10);
    --inset-shadow-xs: inset 0 1px 1px var(--color-accent-alpha-10);
    --inset-shadow-sm: inset 0 2px 4px var(--color-accent-alpha-10);

    --drop-shadow-xs: 0 1px 1px var(--color-accent-alpha-10);
    --drop-shadow-sm: 0 1px 2px var(--color-accent-alpha-25);
    --drop-shadow-md: 0 3px 3px var(--color-accent-alpha-25);
    --drop-shadow-lg: 0 4px 4px var(--color-accent-alpha-25);
    --drop-shadow-xl: 0 9px 7px var(--color-accent-alpha-25);
    --drop-shadow-2xl: 0 25px 25px var(--color-accent-alpha-25);

    --text-shadow-2xs: 0px 0px 1px var(--color-accent-alpha-50), 0px 0px 6px var(--color-accent-alpha-25);
    --text-shadow-xs: 0px 0px 3px var(--color-accent-alpha-50), 0px 0px 8px var(--color-accent-alpha-25);
    --text-shadow-sm:
        0px 0px 5px var(--color-accent-alpha-50), 0px 0px 10px var(--color-accent-alpha-25), 0px 0px 15px var(--color-accent-alpha-10);
    --text-shadow-md:
        0px 0px 7px var(--color-accent-alpha-50), 0px 0px 12px var(--color-accent-alpha-25), 0px 0px 17px var(--color-accent-alpha-10);
    --text-shadow-lg:
        0px 0px 9px var(--color-accent-alpha-50), 0px 0px 14px var(--color-accent-alpha-25), 0px 0px 19px var(--color-accent-alpha-10);

    --blur-xs: 1px;
    --blur-sm: 4px;
    --blur-md: 8px;
    --blur-lg: 12px;
    --blur-xl: 16px;
    --blur-2xl: 20px;
    --blur-3xl: 24px;

    --text-xs: 0.75rem;
    --text-xs--line-height: calc(1 / 0.75);
    --text-sm: 0.875rem;
    --text-sm--line-height: calc(1.25 / 0.875);
    --text-base: 1rem;
    --text-base--line-height: calc(1.5 / 1);
    --text-lg: 1.125rem;
    --text-lg--line-height: calc(1.75 / 1.125);
    --text-xl: 1.25rem;
    --text-xl--line-height: calc(1.75 / 1.25);
    --text-2xl: 1.5rem;
    --text-2xl--line-height: calc(2 / 1.5);
    --text-3xl: 1.875rem;
    --text-3xl--line-height: calc(2.25 / 1.875);
    --text-4xl: 2.25rem;
    --text-4xl--line-height: calc(2.5 / 2.25);
    --text-5xl: 3rem;
    --text-5xl--line-height: 1;
    --text-6xl: 3.75rem;
    --text-6xl--line-height: 1;
    --text-7xl: 4.5rem;
    --text-7xl--line-height: 1;
    --text-8xl: 6rem;
    --text-8xl--line-height: 1;
    --text-9xl: 8rem;
    --text-9xl--line-height: 1;

    --font-weight-thin: 100;
    --font-weight-extralight: 200;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;

    --tracking-tighter: -0.05em;
    --tracking-tight: -0.025em;
    --tracking-normal: 0em;
    --tracking-wide: 0.025em;
    --tracking-wider: 0.05em;
    --tracking-widest: 0.1em;

    --leading-tight: 1.25;
    --leading-snug: 1.375;
    --leading-normal: 1.5;
    --leading-relaxed: 1.625;
    --leading-loose: 2;

    --radius-xs: 0.125rem;
    --radius-sm: 0.25rem;
    --radius-md: 0.375rem;
    --radius-lg: 0.5rem;
    --radius-xl: 0.75rem;
    --radius-2xl: 1rem;
    --radius-3xl: 1.5rem;
    --radius-4xl: 2rem;

    --leading-tight: 1.4;
    --leading-snug: 1.6;
    --leading-normal: 1.8;
    --leading-relaxed: 2;
    --leading-loose: 2.2;

    --breakpoint-xs: 576px;
    --breakpoint-sm: 768px;
    --breakpoint-md: 992px;
    --breakpoint-lg: 1200px;
    --breakpoint-xl: 1600px;
    --breakpoint-2xl: 2000px;

    --animate-glitch: glitch 2s infinite;
    --animate-pulse: pulse 2s infinite;
    --animate-bounce: bounce 2s infinite;
    --animate-opacity: opacity 0.3s;
    --animate-blink: blink 1s infinite;

    @keyframes glitch {

        0%,
        100% {
            transform: translateX(0);
        }

        20% {
            transform: translateX(-6px);
        }

        40% {
            transform: translateX(6px);
        }

        60% {
            transform: translateX(-2px);
        }

        80% {
            transform: translateX(2px);
        }
    }

    @keyframes pulse {
        0% {
            box-shadow: 0 0 0 0 var(--color-accent-alpha-70);
        }

        70% {
            box-shadow: 0 0 0 10px var(--color-primary-alpha-0);
        }

        100% {
            box-shadow: 0 0 0 0 var(--color-primary-alpha-0);
        }
    }

    @keyframes bounce {

        0%,
        20%,
        50%,
        80%,
        100% {
            transform: translateY(0);
        }

        40% {
            transform: translateY(-8px);
        }

        60% {
            transform: translateY(-4px);
        }
    }

    @keyframes opacity {
        0% {
            opacity: 0;
        }

        100% {
            opacity: 1;
        }
    }

    @keyframes blink {

        0%,
        50% {
            opacity: 1;
        }

        51%,
        100% {
            opacity: 0;
        }
    }
}

@utility hide-scrollbar {
    &::-webkit-scrollbar {
        display: none;
    }

    & {
        scrollbar-width: none;
    }
}

@layer base {

    html {
        @apply max-w-full overflow-x-hidden h-full;
    }

    body {
        @apply bg-general-background text-primary-text font-sans max-w-full h-full m-0 flex flex-col;
    }

    h1 {
        @apply text-accent font-bold text-shadow-md text-4xl sm:text-5xl leading-normal;
    }

    h2 {
        @apply text-accent font-bold text-shadow-md text-3xl sm:text-4xl leading-normal;
    }

    h3 {
        @apply text-accent font-bold text-shadow-md text-2xl sm:text-3xl leading-normal;
    }

    h4 {
        @apply text-accent font-bold text-shadow-md text-xl sm:text-2xl leading-normal;
    }

    h5 {
        @apply text-accent font-bold text-shadow-md text-lg sm:text-xl leading-normal;
    }

    h6 {
        @apply text-accent font-bold text-shadow-md text-base leading-normal;
    }

    p {
        @apply text-primary-text text-left text-base leading-normal;
    }

    strong {
        @apply font-bold;
    }

    blockquote {
        @apply border-l-4 border-accent pl-4 italic text-accent;
    }

    blockquote * {
        @apply text-accent;
    }

    ul {
        @apply list-none text-primary-text text-base leading-normal p-0 m-4;
    }

    ul li {
        @apply relative pl-4 mb-2;
    }

    ul li::before {
        @apply content-['â–¸'] absolute left-0 text-primary font-bold;
    }

    time {
        @apply text-secondary-text;
    }

    a {
        @apply text-accent text-shadow-sm text-base leading-normal no-underline break-words;
    }

    @media (hover: hover) and (pointer: fine) {
        a:hover {
            @apply underline;
        }
    }

    hr {
        @apply w-full h-px bg-gradient-to-r from-general-background-light via-accent to-general-background-light border-0;
    }

    table {
        @apply w-full table-auto mx-auto border-collapse;
    }

    th {
        @apply px-4 py-3 text-left font-bold text-accent bg-primary-dark;
    }

    td {
        @apply px-4 py-2 text-left text-primary-text;
    }

    tbody tr:nth-child(even) td {
        background-color: var(--color-general-background-light);
    }

    .table-wrapper {
        @apply overflow-x-auto rounded-xl border border-accent shadow-lg my-4;
    }

    /** custom rules **/

    .katex-display .katex {
        @apply hide-scrollbar inline-block whitespace-nowrap max-w-full overflow-x-scroll;
    }

    #reading-content-container p {
        @apply my-4;
    }

    #reading-content-container figure figcaption {
        @apply text-secondary-text text-base leading-normal text-center italic mt-2 mb-3;
    }

    #reading-content-container figure img {
        @apply w-full border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent shadow-lg transition-all duration-500 hover:scale-102;
    }

    #reading-content-container iframe {
        @apply w-full h-auto aspect-video border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent shadow-lg transition-all duration-500 hover:scale-102;
    }


    #reading-content-container p code {
        color: #d2a8ff;
    }

    #reading-content-container li code {
        color: #d2a8ff;
    }

    #reading-content-container pre {
        @apply hide-scrollbar overflow-hidden border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent shadow-lg transition-all duration-500 hover:scale-101;
    }

    /** Anchor link styles for headings **/
    #reading-content-container h1,
    #reading-content-container h2,
    #reading-content-container h3,
    #reading-content-container h4,
    #reading-content-container h5,
    #reading-content-container h6 {
        @apply scroll-mt-20;
    }

    /* Make anchor tags inherit heading styles */
    #reading-content-container h1 a,
    #reading-content-container h2 a,
    #reading-content-container h3 a,
    #reading-content-container h4 a,
    #reading-content-container h5 a,
    #reading-content-container h6 a {
        color: inherit;
        font-weight: inherit;
        font-size: inherit;
        line-height: inherit;
        text-shadow: inherit;
        @apply no-underline relative;
    }

    #reading-content-container h2 a::before,
    #reading-content-container h3 a::before,
    #reading-content-container h4 a::before,
    #reading-content-container h5 a::before,
    #reading-content-container h6 a::before {
        content: "#";
        @apply text-accent opacity-0 transition-opacity duration-300 absolute;
    }

    #reading-content-container h2 a::before {
        @apply -left-10;
    }

    #reading-content-container h3 a::before {
        @apply -left-8;
    }

    #reading-content-container h4 a::before {
        @apply -left-7;
    }

    #reading-content-container h5 a::before {
        @apply -left-6;
    }

    #reading-content-container h6 a::before {
        @apply -left-5;
    }

    @media (hover: hover) and (pointer: fine) {
        #reading-content-container h2:hover a::before,
        #reading-content-container h3:hover a::before,
        #reading-content-container h4:hover a::before,
        #reading-content-container h5:hover a::before,
        #reading-content-container h6:hover a::before {
            @apply opacity-100;
        }
    }

    ul.recharts-default-legend li.recharts-legend-item::before {
        content: unset !important;
        display: none !important;
        all: unset;
    }

    body.glitch-active {
        @apply animate-glitch duration-300;
        animation-duration: 300ms !important;
    }

    .chat-message-user * {
        @apply text-text-above-primary;
    }
}

@layer components {
    .container-fixed {
        @apply w-full px-4 mx-auto max-w-[540px] sm:max-w-[720px] md:max-w-[960px];
    }

    .container-fluid {
        @apply w-full px-4 mx-auto;
    }

    .container-fullscreen {
        @apply flex justify-center items-center flex-col h-screen min-h-screen w-full bg-transparent;
    }

    .container-section {
        @apply w-full py-4 mx-auto max-w-[540px] sm:max-w-[720px] md:max-w-[960px];
    }

    .call-to-action {
        @apply text-lg bg-accent text-text-above-primary p-3 m-1 border-0 rounded-xl leading-none text-center inline-block min-w-[120px] no-underline transition-all hover:shadow-xl hover:scale-105;
    }

    .glow-border {
        @apply border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent;
    }

    .glow-container {
        @apply border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent shadow-lg transition-all duration-300 hover:scale-102;
    }

    .glassmorphism-lite {
        @apply border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent shadow-lg transition-transform duration-300 hover:scale-102 bg-general-background;
    }

    .glassmorphism {
        @apply border border-solid border-accent-alpha-40 rounded-xl hover:border-accent active:border-accent focus:border-accent shadow-lg transition-transform duration-300 hover:scale-102 backdrop-blur-sm;
    }
}

/** custom rules **/

.scroll-locked .menu-container {
    right: var(--scrollbar-width, 0px);
}

.remove-scroll-width {
    right: var(--scrollbar-width, 0px);
}

:root {
    color-scheme: dark;
}